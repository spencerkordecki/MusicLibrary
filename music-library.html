<!DOCTYPE HTML>
<html lang="en-US">
<head>
  <meta charset="UTF-8">
  <title>Music Library Final</title>
  <meta name="viewport" content="width=device-width, intital-scale=1.0">
  <meta name="author" content="Spencer Kordecki">
  <meta name="description" content="Final Project">
  <!-- Styles -->
  <link rel="stylesheet" href="music-library.css">
  <script type="text/javascript" src="http://code.jquery.com/jquery-2.0.3.js"></script>
  <script type="text/javascript">
    $(document).ready(function()
    {
      $('#searchText')[0].reset(); //clear any text in search box upon refresh

      $.getJSON('albums.json', function(data) //retrieve the JSON data
      {
        $('.artwork').each(function(index) //populate albums with respective artwork
        {
          $(this).find('#albumArt').attr('src', data.albums[index].art);
        });
        
        $('.albumInformation').each(function(index) //populate albums with respective information
        {
          $(this).find('.artistName').html(data.albums[index].artist);
          $(this).find('.albumName').html(data.albums[index].title);
          $(this).find('.genre').html(data.albums[index].genre);
          $(this).find('.label').html(data.albums[index].label);
          $(this).find('.release').html(data.albums[index].release);
        });

        console.log('JSON data loaded');
      });
      
      $('.searchButton').click(function(e) //onclick for search button
      {
        e.preventDefault();
        var input = $(this).parent('#searchText').find('.searchInput').val().toLowerCase();
        console.log('Input is: ' + input);
        var type = $(this).parent('#searchText').find('.searchType').val();
        console.log('Selected type is ' + type);

        if(type == 'all') //if no search type is selected
        {
          $('.album').each(function()
          {
            $(this).hide();
          });

          $('.album').each(function()
          {
            filterAll(input, $(this).find('.artistName'));
            filterAll(input, $(this).find('.albumName'));
            filterAll(input, $(this).find('.genre'));
            filterAll(input, $(this).find('.label'));
            filterAll(input, $(this).find('.release'));
          });
        }
        else if(type == 'title')
        {
          $('.albumName').each(function()
          {
            filter(input, this);
          });
        }
        else if(type == 'artist')
        {
          $('.artistName').each(function()
          {
            filter(input, this);
          });
        }
        else if(type == 'genre')
        {
          $('.genre').each(function()
          {
            filter(input, this);
          });
        }
        else if(type == 'label')
        {
          $('.label').each(function()
          {
            filter(input, this);
          });
        }
        else if(type == 'release')
        {
          $('.release').each(function()
          {
            filter(input, this);
          });
        }
      });

      //the following methods define the hover activities for the search bar and albums
      $('.artwork').mouseenter(function()
      {
        $(this).parent('.album').find('.albumInformation').stop().slideDown('medium');
      });

      $('.album').mouseleave(function()
      {
        $(this).find('.albumInformation').stop().slideUp('medium');
      });

      $('.searchButton').mouseenter(function()
      {
        $(this).css('border', '5px solid #42A6A6');
      });

      $('.searchButton').mouseleave(function()
      {
        $(this).css('border', '5px solid #CCFFFF');
      });

      $('.searchInput').mouseenter(function()
      {
        $(this).css('border', '5px solid #42A6A6');
      });

      $('.searchInput').mouseleave(function()
      {
        $(this).css('border', '5px solid #CCFFFF');
      });

      $('.searchType').mouseenter(function()
      {
        $(this).css('border', '5px solid #42A6A6');
      });

      $('.searchType').mouseleave(function()
      {
        $(this).css('border', '5px solid #CCFFFF');
      });

      function filter(input, element)
      {
        console.log($(element).text());
        var content = $(element).text().toLowerCase();
        if(input != content)
        {
          $(element).parent('.albumInformation').parent('.album').hide();
        }
        else
        {
          $(element).parent('.albumInformation').parent('.album').show();
        }
      }

      function filterAll(input, element)
      {
        console.log($(element).text());
        var content = $(element).text().toLowerCase();
        if(input == content)
        {
          $(element).parent('.albumInformation').parent('.album').show();
        }
      } 
    });
  </script>
</head>
<body>
  <div id="title">
    <h3 id="titleText">muzak. <font color="#42A6A6">it's all yours.</font></h3>
  </div>
  <div id="search">
    <form id="searchText">
      <input type="text" class="searchInput">
      <select class="searchType">
        <option value="all">Search All</option>
        <option value="title">Album Title</option>
        <option value="artist">Artist</option>
        <option value="genre">Genre</option>
        <option value="label">Record Label</option>
        <option value="release">Release Year</option>
      </select> 
      <input type="submit" value=">" class="searchButton">
    </form>
  </div>
  <div id="albums">
    <div class="album">
      <div class="artwork">
        <img src="" id="albumArt">
      </div>
      <div class="albumInformation">
        <h1 class="artistName">Artist Name</h1>
        <h2 class="albumName">Album Name</h2>
        <h5 class="genre">Genre</h5>
        <h5 class="label">Record Label</h5>
        <h5 class="release">Release Year</h5>
      </div>
    </div>
    <div class="album">
      <div class="artwork">
        <img src="" id="albumArt">
      </div>
      <div class="albumInformation">
        <h1 class="artistName">Artist Name</h1>
        <h2 class="albumName">Album Name</h2>
        <h5 class="genre">Genre</h5>
        <h5 class="label">Record Label</h5>
        <h5 class="release">Release Year</h5>
      </div>
    </div>
    <div class="album">
      <div class="artwork">
        <img src="" id="albumArt">
      </div>
      <div class="albumInformation">
        <h1 class="artistName">Artist Name</h1>
        <h2 class="albumName">Album Name</h2>
        <h5 class="genre">Genre</h5>
        <h5 class="label">Record Label</h5>
        <h5 class="release">Release Year</h5>
      </div>
    </div>
    <div class="album">
      <div class="artwork">
        <img src="" id="albumArt">
      </div>
      <div class="albumInformation">
        <h1 class="artistName">Artist Name</h1>
        <h2 class="albumName">Album Name</h2>
        <h5 class="genre">Genre</h5>
        <h5 class="label">Record Label</h5>
        <h5 class="release">Release Year</h5>
      </div>
    </div>
    <div class="album">
      <div class="artwork">
        <img src="" id="albumArt">
      </div>
      <div class="albumInformation">
        <h1 class="artistName">Artist Name</h1>
        <h2 class="albumName">Album Name</h2>
        <h5 class="genre">Genre</h5>
        <h5 class="label">Record Label</h5>
        <h5 class="release">Release Year</h5>
      </div>
    </div>
    <div class="album">
      <div class="artwork">
        <img src="" id="albumArt">
      </div>
      <div class="albumInformation">
        <h1 class="artistName">Artist Name</h1>
        <h2 class="albumName">Album Name</h2>
        <h5 class="genre">Genre</h5>
        <h5 class="label">Record Label</h5>
        <h5 class="release">Release Year</h5>
      </div>
    </div>
    <div class="album">
      <div class="artwork">
        <img src="" id="albumArt">
      </div>
      <div class="albumInformation">
        <h1 class="artistName">Artist Name</h1>
        <h2 class="albumName">Album Name</h2>
        <h5 class="genre">Genre</h5>
        <h5 class="label">Record Label</h5>
        <h5 class="release">Release Year</h5>
      </div>
    </div>
    <div class="album">
      <div class="artwork">
        <img src="" id="albumArt">
      </div>
      <div class="albumInformation">
        <h1 class="artistName">Artist Name</h1>
        <h2 class="albumName">Album Name</h2>
        <h5 class="genre">Genre</h5>
        <h5 class="label">Record Label</h5>
        <h5 class="release">Release Year</h5>
      </div>
    </div>
    <div class="album">
      <div class="artwork">
        <img src="" id="albumArt">
      </div>
      <div class="albumInformation">
        <h1 class="artistName">Artist Name</h1>
        <h2 class="albumName">Album Name</h2>
        <h5 class="genre">Genre</h5>
        <h5 class="label">Record Label</h5>
        <h5 class="release">Release Year</h5>
      </div>
    </div>
    <div class="album">
      <div class="artwork">
        <img src="" id="albumArt">
      </div>
      <div class="albumInformation">
        <h1 class="artistName">Artist Name</h1>
        <h2 class="albumName">Album Name</h2>
        <h5 class="genre">Genre</h5>
        <h5 class="label">Record Label</h5>
        <h5 class="release">Release Year</h5>
      </div>
    </div>
    <div class="album">
      <div class="artwork">
        <img src="" id="albumArt">
      </div>
      <div class="albumInformation">
        <h1 class="artistName">Artist Name</h1>
        <h2 class="albumName">Album Name</h2>
        <h5 class="genre">Genre</h5>
        <h5 class="label">Record Label</h5>
        <h5 class="release">Release Year</h5>
      </div>
    </div>
    <div class="album">
      <div class="artwork">
        <img src="" id="albumArt">
      </div>
      <div class="albumInformation">
        <h1 class="artistName">Artist Name</h1>
        <h2 class="albumName">Album Name</h2>
        <h5 class="genre">Genre</h5>
        <h5 class="label">Record Label</h5>
        <h5 class="release">Release Year</h5>
      </div>
    </div>
    <div class="album">
      <div class="artwork">
        <img src="" id="albumArt">
      </div>
      <div class="albumInformation">
        <h1 class="artistName">Artist Name</h1>
        <h2 class="albumName">Album Name</h2>
        <h5 class="genre">Genre</h5>
        <h5 class="label">Record Label</h5>
        <h5 class="release">Release Year</h5>
      </div>
    </div>
    <div class="album">
      <div class="artwork">
        <img src="" id="albumArt">
      </div>
      <div class="albumInformation">
        <h1 class="artistName">Artist Name</h1>
        <h2 class="albumName">Album Name</h2>
        <h5 class="genre">Genre</h5>
        <h5 class="label">Record Label</h5>
        <h5 class="release">Release Year</h5>
      </div>
    </div>
    <div class="album">
      <div class="artwork">
        <img src="" id="albumArt">
      </div>
      <div class="albumInformation">
        <h1 class="artistName">Artist Name</h1>
        <h2 class="albumName">Album Name</h2>
        <h5 class="genre">Genre</h5>
        <h5 class="label">Record Label</h5>
        <h5 class="release">Release Year</h5>
      </div>
    </div>
    <div class="album">
      <div class="artwork">
        <img src="" id="albumArt">
      </div>
      <div class="albumInformation">
        <h1 class="artistName">Artist Name</h1>
        <h2 class="albumName">Album Name</h2>
        <h5 class="genre">Genre</h5>
        <h5 class="label">Record Label</h5>
        <h5 class="release">Release Year</h5>
      </div>
    </div>
    <div class="album">
      <div class="artwork">
        <img src="" id="albumArt">
      </div>
      <div class="albumInformation">
        <h1 class="artistName">Artist Name</h1>
        <h2 class="albumName">Album Name</h2>
        <h5 class="genre">Genre</h5>
        <h5 class="label">Record Label</h5>
        <h5 class="release">Release Year</h5>
      </div>
    </div>
    <div class="album">
      <div class="artwork">
        <img src="" id="albumArt">
      </div>
      <div class="albumInformation">
        <h1 class="artistName">Artist Name</h1>
        <h2 class="albumName">Album Name</h2>
        <h5 class="genre">Genre</h5>
        <h5 class="label">Record Label</h5>
        <h5 class="release">Release Year</h5>
      </div>
    </div>
    <div class="album">
      <div class="artwork">
        <img src="" id="albumArt">
      </div>
      <div class="albumInformation">
        <h1 class="artistName">Artist Name</h1>
        <h2 class="albumName">Album Name</h2>
        <h5 class="genre">Genre</h5>
        <h5 class="label">Record Label</h5>
        <h5 class="release">Release Year</h5>
      </div>
    </div>
    <div class="album">
      <div class="artwork">
        <img src="" id="albumArt">
      </div>
      <div class="albumInformation">
        <h1 class="artistName">Artist Name</h1>
        <h2 class="albumName">Album Name</h2>
        <h5 class="genre">Genre</h5>
        <h5 class="label">Record Label</h5>
        <h5 class="release">Release Year</h5>
      </div>
    </div>
  </div> 
</body>
</html>